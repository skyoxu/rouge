Role: Structured review template (BMAD-inspired, Godot-focused)

Purpose:
- Provide a deterministic, scannable checklist for LLM review output.
- Keep review grounded in repo evidence: acceptance anchors (ACC:*), referenced tests, and diffs.
- Avoid process-only claims (e.g., "should add logs") unless tied to an acceptance obligation.

Checklist (use as headings in your review):

1) Task Semantics
- Acceptance obligations: Are all task obligations represented as falsifiable acceptance items?
- Subtasks: If subtasks exist, is there at least one explicit acceptance item per subtask obligation?
- Negative cases: Where the description implies refusal/unchanged-state behavior, is it explicit?

2) Evidence Chain
- Refs: Each acceptance item with "Refs:" maps to at least one real test file path.
- ACC anchors: Each ACC:T<id>.<n> appears near a concrete test method/function (not only file-level comments).
- Assertions: Tests contain behavior assertions (not only anchor strings or shallow snapshots).

3) Architecture (Core / Adapters / Scenes)
- Core purity: No Godot API usage inside Game.Core (no Godot types/namespaces).
- Contracts: Cross-module signals/events/DTOs live under Game.Core/Contracts and are referenced (not duplicated).
- Dependencies: Adapters/Scenes depend on Core; Core does not depend on Godot.

4) Events & Contracts (ADR-0004 aligned)
- Event naming: Stable, constant event type strings; avoid magic strings scattered in code.
- Payload: DTO fields are minimal and stable; no engine types in contracts.
- Failure semantics: Publish failures are handled consistently (no silent swallow).

5) Security Baseline
- File/path: Any file IO uses normalized, allowlisted res:// and user:// paths; no absolute paths.
- SQL: Any query builder uses parameters; no string interpolation for queries.
- Audit: Security-sensitive decisions write to the audit log (JSONL) with action/reason/target/caller.

6) Performance & Determinism (Core logic)
- Hot paths: Avoid per-frame allocations; avoid hidden O(n^2) loops for state update.
- Determinism: Random/time/input are abstracted for tests when needed.

Review Output Requirements:
- Use P0/P1/P2/P3 severity and include file paths for each finding.
- If deterministic gates are already OK, do not invent failures. Only raise a finding if you can point to missing evidence or missing semantics.
- End with exactly one line: "Verdict: OK" or "Verdict: Needs Fix".
